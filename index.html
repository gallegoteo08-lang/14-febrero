<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valeria ğŸ’˜</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(135deg,#ffb6d9,#ffe6f2);
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.card{
  background:white;
  padding:24px;
  border-radius:20px;
  width:92%;
  max-width:420px;
  box-shadow:0 15px 40px rgba(0,0,0,.15);
  text-align:center;
  animation:pop .8s ease;
}

@keyframes pop{
  from{transform:scale(.7);opacity:0;}
  to{transform:scale(1);opacity:1;}
}

h1{font-size:24px;margin:0 0 10px;}
p{margin:6px 0 12px;}

button{
  font-size:18px;
  padding:14px 20px;
  border:none;
  border-radius:14px;
  margin:8px;
  cursor:pointer;
  transition:.2s;
}

#si{background:#ff2e63;color:white;}
#si:active{transform:scale(.95);}

#no{
  background:#666;
  color:white;
  position:fixed;
}

#mute{
  position:fixed;
  top:10px;
  right:10px;
  font-size:14px;
  padding:8px 12px;
}

.heart{
  position:fixed;
  top:-10px;
  font-size:20px;
  animation:fall linear forwards;
}

@keyframes fall{
  to{transform:translateY(110vh);}
}

.confetti{
  position:fixed;
  width:8px;
  height:14px;
  top:-10px;
  animation:fall linear forwards;
}
</style>
</head>

<body>

<button id="mute">ğŸ”Š</button>

<div class="card">
  <h1>Valeria ğŸ’–</h1>
  <p>Â¿Quieres salir conmigo este 14 de febrero?</p>
  <p id="count"></p>

  <button id="si">SÃ ğŸ˜</button>
  <button id="no">No ğŸ˜¢</button>
</div>

<audio id="musica" loop>
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<script>
const musica = document.getElementById("musica");
const muteBtn = document.getElementById("mute");
const btnNo = document.getElementById("no");
const btnSi = document.getElementById("si");

let muted=false;
let intentos=0;

// reproducir mÃºsica tras primer toque (iPhone)
document.body.addEventListener("click",()=>musica.play().catch(()=>{}),{once:true});

muteBtn.onclick=()=>{
  muted=!muted;
  musica.muted=muted;
  muteBtn.innerText= muted ? "ğŸ”‡":"ğŸ”Š";
};

// contador
const target = new Date("Feb 14, 2026 00:00:00").getTime();
setInterval(()=>{
  const d = target - Date.now();
  if(d<=0) return;
  const dias = Math.floor(d/86400000);
  document.getElementById("count").innerText =
    "Faltan "+dias+" dÃ­as para nuestra cita ğŸ’˜";
},1000);

// -------- BOTÃ“N NO ANTI DEDO --------

const frases=[
  "Â¿segura? ğŸ˜³",
  "piÃ©nsalo ğŸ™ƒ",
  "casi ğŸ˜",
  "nop nop ğŸ˜†",
  "error âŒ",
  "bloqueado ğŸ”’",
  "Ãºltimo aviso âš ï¸"
];

document.addEventListener("pointermove", detectarCercania);
btnNo.addEventListener("touchstart", mover);
btnNo.addEventListener("mouseenter", mover);

function detectarCercania(e){
  const rect = btnNo.getBoundingClientRect();
  const dx = Math.abs(e.clientX - (rect.left + rect.width/2));
  const dy = Math.abs(e.clientY - (rect.top + rect.height/2));

  if(dx < 120 && dy < 120){
    mover();
  }
}

function mover(){
  intentos++;

  if(navigator.vibrate) navigator.vibrate(35);

  if(intentos <= frases.length){
    btnNo.innerText = frases[intentos-1];
  }

  if(intentos >= 9){
    btnNo.innerHTML="ğŸš€";
    btnNo.style.transition="1s";
    btnNo.style.transform="translateY(-900px) rotate(720deg)";
    setTimeout(()=>btnNo.remove(),900);
    return;
  }

  const maxX = window.innerWidth - 130;
  const maxY = window.innerHeight - 90;

  btnNo.style.left = Math.random()*maxX + "px";
  btnNo.style.top  = Math.random()*maxY + "px";
}

// -------- BOTÃ“N SI FINAL --------

btnSi.onclick=()=>{
  if(navigator.vibrate) navigator.vibrate([120,60,120]);

  document.body.innerHTML=`
  <div class="card">
    <h1>ğŸ˜ SabÃ­a que dirÃ­as que sÃ­ ğŸ’˜</h1>
    <p>PrepÃ¡rate para disfrutar âœ¨</p>
  </div>`;

  lluviaConfeti();
  fuegos();
};

// corazones constantes
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="ğŸ’–";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(2+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
},400);

// confeti
function lluviaConfeti(){
  for(let i=0;i<140;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},90%,60%)`;
    c.style.animationDuration=(2+Math.random()*3)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),5000);
  }
}

// fuegos
function fuegos(){
  setInterval(()=>{
    const f=document.createElement("div");
    f.className="heart";
    f.innerText="ğŸ†";
    f.style.left=Math.random()*100+"vw";
    f.style.fontSize="26px";
    f.style.animationDuration="2s";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),2000);
  },300);
}
</script>

</body>
</html>
