<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Modo Soltero PRO MAX ðŸŽ®</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  overflow:hidden;
  font-family:Arial;
  color:white;
  text-align:center;
  background:linear-gradient(270deg,#0f0c29,#302b63,#24243e);
  background-size:600% 600%;
  animation:bgMove 14s ease infinite;
}

@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

h1{
  margin:10px 0 4px;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  50%{transform:scale(1.06)}
}

#hud{
  font-size:18px;
  margin-bottom:6px;
}

#combo{
  height:26px;
  font-size:20px;
  color:#ffd166;
}

button{
  padding:14px 24px;
  font-size:18px;
  border:none;
  border-radius:14px;
  background:#ff4d6d;
  color:white;
  box-shadow:0 0 20px #ff4d6d;
  animation:glow 1.5s infinite alternate;
}

@keyframes glow{
  from{box-shadow:0 0 8px #ff4d6d}
  to{box-shadow:0 0 28px #ff4d6d}
}

.heart{
  position:absolute;
  cursor:pointer;
  user-select:none;
  animation:spin 5s linear infinite;
}

@keyframes spin{
  to{rotate:360deg}
}

.gold{
  filter:drop-shadow(0 0 12px gold);
}

.pop{
  position:absolute;
  font-size:22px;
  animation:pop .6s forwards;
}

@keyframes pop{
  to{transform:translateY(-50px) scale(1.6); opacity:0;}
}

.particle{
  position:absolute;
  font-size:18px;
  animation:burst .7s forwards;
}

@keyframes burst{
  to{
    transform:translate(var(--dx), var(--dy));
    opacity:0;
  }
}

.shake{
  animation:shake .25s;
}

@keyframes shake{
  25%{transform:translateX(-6px)}
  75%{transform:translateX(6px)}
}

#result{
  font-size:22px;
  margin-top:8px;
}
</style>
</head>

<body>

<h1>ðŸŽ® Modo Soltero PRO MAX</h1>

<div id="hud">
Puntos: <span id="score">0</span> |
Tiempo: <span id="time">30</span> |
RÃ©cord: <span id="best">0</span>
</div>

<div id="combo"></div>

<button id="startBtn" onclick="startGame()">Empezar ðŸ’¥</button>
<div id="result"></div>

<script>
let score=0,time=30,running=false,combo=0;
let spawnRate=900;
let spawnLoop,timerLoop;

const best = localStorage.getItem("bestScore") || 0;
document.getElementById("best").innerText = best;

function startGame(){
  score=0; time=30; combo=0; spawnRate=900;
  running=true;
  updateHUD();
  document.getElementById("result").innerText="";
  document.getElementById("startBtn").style.display="none";

  spawnLoop=setInterval(spawnHeart,spawnRate);

  timerLoop=setInterval(()=>{
    time--;
    document.getElementById("time").innerText=time;

    // dificultad progresiva
    if(time%6===0 && spawnRate>300){
      spawnRate-=100;
      clearInterval(spawnLoop);
      spawnLoop=setInterval(spawnHeart,spawnRate);
    }

    if(time<=0) endGame();
  },1000);
}

function spawnHeart(){
  if(!running) return;

  const h=document.createElement("div");
  h.className="heart";

  const rare = Math.random()<0.15;
  h.innerText = rare ? "ðŸ’›" : ["ðŸ’–","ðŸ’˜","â¤ï¸","ðŸ’"][Math.random()*4|0];
  if(rare) h.classList.add("gold");

  // tamaÃ±o grande variable
  const size = 60 + Math.random()*44;
  h.style.fontSize=size+"px";

  // posiciÃ³n en toda pantalla
  const margin=80;
  h.style.left=Math.random()*(window.innerWidth-margin)+"px";
  h.style.top=Math.random()*(window.innerHeight-margin)+"px";

  // movimiento flotante animado
  const dx = Math.random()*300-150;
  const dy = Math.random()*300-150;

  h.animate([
    { transform:"translate(0,0)" },
    { transform:`translate(${dx}px, ${dy}px)` }
  ],{
    duration: 3500 + Math.random()*2000,
    direction:"alternate",
    iterations:Infinity
  });

  h.onclick=()=>{
    const pts = rare ? 5 : 1;
    score += pts + Math.floor(combo/4);
    combo++;
    explode(h,pts);
    h.remove();
    updateHUD();
    if(navigator.vibrate) navigator.vibrate(25);
  };

  document.body.appendChild(h);

  setTimeout(()=>{
    if(h.parentNode){
      combo=0;
      h.remove();
      updateHUD();
    }
  },6500);
}

function explode(el,pts){
  document.body.classList.add("shake");
  setTimeout(()=>document.body.classList.remove("shake"),180);

  const r=el.getBoundingClientRect();

  const pop=document.createElement("div");
  pop.className="pop";
  pop.innerText="+"+pts;
  pop.style.left=r.left+"px";
  pop.style.top=r.top+"px";
  document.body.appendChild(pop);
  setTimeout(()=>pop.remove(),600);

  for(let i=0;i<10;i++){
    const p=document.createElement("div");
    p.className="particle";
    p.innerText="âœ¨";
    p.style.left=r.left+"px";
    p.style.top=r.top+"px";
    p.style.setProperty("--dx",(Math.random()*140-70)+"px");
    p.style.setProperty("--dy",(Math.random()*140-70)+"px");
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),700);
  }
}

function updateHUD(){
  document.getElementById("score").innerText=score;
  document.getElementById("time").innerText=time;
  document.getElementById("combo").innerText =
    combo>=4 ? "ðŸ”¥ Combo x"+combo : "";
}

function endGame(){
  running=false;
  clearInterval(spawnLoop);
  clearInterval(timerLoop);
  document.querySelectorAll(".heart").forEach(e=>e.remove());
  document.getElementById("startBtn").style.display="inline-block";

  if(score > best){
    localStorage.setItem("bestScore",score);
    document.getElementById("best").innerText=score;
  }

  let msg="ðŸ™‚ Bien jugado";
  if(score>60) msg="ðŸ† LEYENDA SOLTERA";
  else if(score>35) msg="ðŸ’ª Anti-Cupido";
  else if(score>20) msg="ðŸ˜Ž Resistente";

  document.getElementById("result").innerText =
    msg + " â€” Puntos: "+score;
}
</script>

</body>
</html>
