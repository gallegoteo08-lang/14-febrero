<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Modo Soltero Extremo ðŸŽ®</title>

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Arial, sans-serif;
  color:white;
  text-align:center;
  overflow:hidden;
  background:linear-gradient(270deg,#0f0c29,#302b63,#24243e);
  background-size:600% 600%;
  animation:bgMove 12s ease infinite;
}

@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

h1{
  margin-top:15px;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.05)}
  100%{transform:scale(1)}
}

#hud{
  font-size:20px;
  margin:8px;
}

#combo{
  font-size:22px;
  color:#ffd166;
  height:28px;
  transition:.2s;
}

button{
  padding:16px 28px;
  font-size:20px;
  border:none;
  border-radius:14px;
  background:#ff4d6d;
  color:white;
  cursor:pointer;
  box-shadow:0 0 20px #ff4d6d;
  animation:glow 1.5s infinite alternate;
}

@keyframes glow{
  from{box-shadow:0 0 10px #ff4d6d}
  to{box-shadow:0 0 30px #ff4d6d}
}

.heart{
  position:absolute;
  font-size:36px;
  cursor:pointer;
  user-select:none;
  animation:fall linear forwards, spin 2s linear infinite;
}

@keyframes fall{
  to{transform:translateY(110vh)}
}

@keyframes spin{
  from{rotate:0deg}
  to{rotate:360deg}
}

.pop{
  position:absolute;
  font-size:22px;
  animation:pop .5s forwards;
  pointer-events:none;
}

@keyframes pop{
  to{
    transform:translateY(-40px) scale(1.6);
    opacity:0;
  }
}

#result{
  font-size:24px;
  margin-top:15px;
  animation:fadeIn .6s;
}

@keyframes fadeIn{
  from{opacity:0; transform:scale(.8)}
  to{opacity:1; transform:scale(1)}
}

.shake{
  animation:shake .25s;
}

@keyframes shake{
  0%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  100%{transform:translateX(0)}
}
</style>
</head>

<body>

<h1>ðŸŽ® Modo Soltero Extremo</h1>
<div id="hud">Puntos: <span id="score">0</span> | Tiempo: <span id="time">30</span></div>
<div id="combo"></div>

<button onclick="startGame()" id="startBtn">Empezar batalla ðŸ’¥</button>

<div id="result"></div>

<script>
let score=0;
let time=30;
let running=false;
let combo=0;
let spawnLoop;
let timerLoop;

function startGame(){
  score=0; time=30; combo=0;
  running=true;
  document.getElementById("score").innerText=0;
  document.getElementById("time").innerText=30;
  document.getElementById("result").innerText="";
  document.getElementById("startBtn").style.display="none";

  spawnLoop=setInterval(spawnHeart,450);
  timerLoop=setInterval(()=>{
    time--;
    document.getElementById("time").innerText=time;
    if(time<=0) endGame();
  },1000);
}

function spawnHeart(){
  if(!running) return;
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML=["ðŸ’–","ðŸ’˜","ðŸ’","â¤ï¸"][Math.floor(Math.random()*4)];
  h.style.left=Math.random()*90+"vw";
  h.style.top="-40px";
  h.style.animationDuration=(Math.random()*2+2)+"s";

  h.onclick=()=>{
    score+=1+Math.floor(combo/3);
    combo++;
    updateHUD();
    explode(h);
    h.remove();
  };

  document.body.appendChild(h);
  setTimeout(()=>{ if(h.parentNode){combo=0; h.remove();}},4000);
}

function explode(el){
  document.body.classList.add("shake");
  setTimeout(()=>document.body.classList.remove("shake"),200);

  const p=document.createElement("div");
  p.className="pop";
  p.innerText="+"+(1+Math.floor(combo/3));
  p.style.left=el.style.left;
  p.style.top=el.getBoundingClientRect().top+"px";
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),500);
}

function updateHUD(){
  document.getElementById("score").innerText=score;
  document.getElementById("combo").innerText=
    combo>=3 ? "ðŸ”¥ Combo x"+combo : "";
}

function endGame(){
  running=false;
  clearInterval(spawnLoop);
  clearInterval(timerLoop);
  document.querySelectorAll(".heart").forEach(e=>e.remove());
  document.getElementById("startBtn").style.display="inline-block";

  let msg="ðŸ˜Ž Sobreviviste.";
  if(score>40) msg="ðŸ† Maestro del desamor";
  else if(score>25) msg="ðŸ’ª Fuerte emocionalmente";
  else if(score>10) msg="ðŸ™‚ Vas mejorando";
  else msg="ðŸ’” Necesitas entrenamiento";

  document.getElementById("result").innerText=
    msg+" â€” Puntos: "+score;
}
</script>

</body>
</html>
